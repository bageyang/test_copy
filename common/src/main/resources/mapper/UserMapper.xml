<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zj.auction.common.mapper.UserMapper">
    <resultMap id="BaseResultMap" type="com.zj.auction.common.model.User">
        <id column="user_id" jdbcType="BIGINT" property="userId"/>
        <result column="role_id" jdbcType="INTEGER" property="roleId"/>
        <result column="user_name" jdbcType="VARCHAR" property="userName"/>
        <result column="pass_word" jdbcType="VARCHAR" property="passWord"/>
        <result column="real_name" jdbcType="VARCHAR" property="realName"/>
        <result column="salt" jdbcType="VARCHAR" property="salt"/>
        <result column="sex" jdbcType="INTEGER" property="sex"/>
        <result column="status" jdbcType="INTEGER" property="status"/>
        <result column="audit" jdbcType="INTEGER" property="audit"/>
        <result column="audit_explain" jdbcType="VARCHAR" property="auditExplain"/>
        <result column="pid" jdbcType="BIGINT" property="pid"/>
        <result column="p_user_name" jdbcType="VARCHAR" property="pUserName"/>
        <result column="pid_str" jdbcType="VARCHAR" property="pidStr"/>
        <result column="level_num" jdbcType="INTEGER" property="levelNum"/>
        <result column="tel" jdbcType="VARCHAR" property="tel"/>
        <result column="email" jdbcType="VARCHAR" property="email"/>
        <result column="login_ip" jdbcType="VARCHAR" property="loginIp"/>
        <result column="login_time" jdbcType="TIMESTAMP" property="loginTime"/>
        <result column="current_user_type" jdbcType="INTEGER" property="currentUserType"/>
        <result column="pay_password" jdbcType="VARCHAR" property="payPassword"/>
        <result column="department_id" jdbcType="INTEGER" property="departmentId"/>
        <result column="add_time" jdbcType="TIMESTAMP" property="addTime"/>
        <result column="add_user_id" jdbcType="BIGINT" property="addUserId"/>
        <result column="update_time" jdbcType="TIMESTAMP" property="updateTime"/>
        <result column="update_user_id" jdbcType="BIGINT" property="updateUserId"/>
        <result column="frozen_explain" jdbcType="VARCHAR" property="frozenExplain"/>
        <result column="delete_flag" jdbcType="INTEGER" property="deleteFlag"/>
        <result column="nick_name" jdbcType="VARCHAR" property="nickName"/>
        <result column="share_img" jdbcType="VARCHAR" property="shareImg"/>
        <result column="user_img" jdbcType="VARCHAR" property="userImg"/>
        <result column="background_img" jdbcType="VARCHAR" property="backgroundImg"/>
        <result column="is_first_login" jdbcType="INTEGER" property="isFirstLogin"/>
        <result column="share_type" jdbcType="INTEGER" property="shareType"/>
        <result column="shop_id" jdbcType="BIGINT" property="shopId"/>
        <result column="wx_union_id" jdbcType="VARCHAR" property="wxUnionId"/>
        <result column="last_login_time" jdbcType="TIMESTAMP" property="lastLoginTime"/>
        <result column="transaction_id" jdbcType="VARCHAR" property="transactionId"/>
        <result column="birth_time" jdbcType="TIMESTAMP" property="birthTime"/>
        <result column="device_number" jdbcType="VARCHAR" property="deviceNumber"/>
        <result column="unique_num" jdbcType="VARCHAR" property="uniqueNum"/>
        <result column="role_shop_id" jdbcType="BIGINT" property="roleShopId"/>
        <result column="role_range" jdbcType="INTEGER" property="roleRange"/>
        <result column="line_status" jdbcType="INTEGER" property="lineStatus"/>
        <result column="consulting_fee" jdbcType="DECIMAL" property="consultingFee"/>
        <result column="comment_total" jdbcType="INTEGER" property="commentTotal"/>
        <result column="like_total" jdbcType="INTEGER" property="likeTotal"/>
        <result column="lucky_draw_num" jdbcType="INTEGER" property="luckyDrawNum"/>
        <result column="alipay_num" jdbcType="VARCHAR" property="alipayNum"/>
        <result column="wx_tel" jdbcType="VARCHAR" property="wxTel"/>
        <result column="wx_account" jdbcType="VARCHAR" property="wxAccount"/>
        <result column="ali_name" jdbcType="VARCHAR" property="aliName"/>
        <result column="ali_account" jdbcType="VARCHAR" property="aliAccount"/>
        <result column="seal_expiration_time" jdbcType="TIMESTAMP" property="sealExpirationTime"/>
        <result column="rob_order_limit" jdbcType="INTEGER" property="robOrderLimit"/>
        <result column="withdrawal_limit" jdbcType="DECIMAL" property="withdrawalLimit"/>
        <result column="finish_auction" jdbcType="INTEGER" property="finishAuction"/>
        <result column="come_up_num" jdbcType="INTEGER" property="comeUpNum"/>
        <result column="vip_type" jdbcType="INTEGER" property="vipType"/>
        <result column="tag_id" jdbcType="BIGINT" property="tagId"/>
        <result column="subordinate_level" jdbcType="INTEGER" property="subordinateLevel"/>
        <result column="subordinate_num" jdbcType="BIGINT" property="subordinateNum"/>
        <result column="seal_num" jdbcType="INTEGER" property="sealNum"/>
        <result column="diamond_order_limit" jdbcType="INTEGER" property="diamondOrderLimit"/>
        <result column="common_name" jdbcType="VARCHAR" property="commonName"/>
        <result column="common_tel" jdbcType="VARCHAR" property="commonTel"/>
        <result column="memo" jdbcType="VARCHAR" property="memo"/>
        <result column="user_type" jdbcType="INTEGER" property="userType"/>
        <result column="card_number" jdbcType="VARCHAR" property="cardNumber"/>
        <result column="memo1" jdbcType="VARCHAR" property="memo1"/>
        <result column="memo2" jdbcType="VARCHAR" property="memo2"/>
        <result column="memo3" jdbcType="VARCHAR" property="memo3"/>
        <result column="sub_user_num" jdbcType="INTEGER" property="subUserNum"/>
        <result column="sub_user_num_all" jdbcType="INTEGER" property="subUserNumAll"/>
    </resultMap>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
        delete
        from zj_user
        where user_id = #{userId,jdbcType=BIGINT}
    </delete>
    <insert id="insert" parameterType="com.zj.auction.common.model.User">
        insert into zj_user (user_id, role_id, user_name,
                             pass_word, real_name, salt,
                             sex, status, audit,
                             audit_explain, pid, p_user_name,
                             pid_str, level_num, tel,
                             email, login_ip, login_time,
                             current_user_type, pay_password, department_id,
                             add_time, add_user_id, update_time,
                             update_user_id, frozen_explain, delete_flag,
                             nick_name, share_img, user_img,
                             background_img, is_first_login, share_type,
                             shop_id, wx_union_id, last_login_time,
                             transaction_id, birth_time, device_number,
                             unique_num, role_shop_id, role_range,
                             line_status, consulting_fee, comment_total,
                             like_total, lucky_draw_num,
                             alipay_num, wx_tel, wx_account,
                             ali_name, ali_account, seal_expiration_time,
                             rob_order_limit, withdrawal_limit, finish_auction,
                             come_up_num, vip_type, tag_id,
                             subordinate_level, subordinate_num, seal_num,
                             diamond_order_limit, common_name, common_tel,
                             memo, user_type, card_number)
        values (#{userId,jdbcType=BIGINT}, #{roleId,jdbcType=INTEGER}, #{userName,jdbcType=VARCHAR},
                #{passWord,jdbcType=VARCHAR}, #{realName,jdbcType=VARCHAR}, #{salt,jdbcType=VARCHAR},
                #{sex,jdbcType=INTEGER}, #{status,jdbcType=INTEGER}, #{audit,jdbcType=INTEGER},
                #{auditExplain,jdbcType=VARCHAR}, #{pid,jdbcType=BIGINT}, #{pUserName,jdbcType=VARCHAR},
                #{pidStr,jdbcType=VARCHAR}, #{levelNum,jdbcType=INTEGER}, #{tel,jdbcType=VARCHAR},
                #{email,jdbcType=VARCHAR}, #{loginIp,jdbcType=VARCHAR}, #{loginTime,jdbcType=TIMESTAMP},
                #{currentUserType,jdbcType=INTEGER}, #{payPassword,jdbcType=VARCHAR}, #{departmentId,jdbcType=INTEGER},
                #{addTime,jdbcType=TIMESTAMP}, #{addUserId,jdbcType=BIGINT}, #{updateTime,jdbcType=TIMESTAMP},
                #{updateUserId,jdbcType=BIGINT}, #{frozenExplain,jdbcType=VARCHAR}, #{deleteFlag,jdbcType=INTEGER},
                #{nickName,jdbcType=VARCHAR}, #{shareImg,jdbcType=VARCHAR}, #{userImg,jdbcType=VARCHAR},
                #{backgroundImg,jdbcType=VARCHAR}, #{isFirstLogin,jdbcType=INTEGER}, #{shareType,jdbcType=INTEGER},
                #{shopId,jdbcType=BIGINT}, #{wxUnionId,jdbcType=VARCHAR}, #{lastLoginTime,jdbcType=TIMESTAMP},
                #{transactionId,jdbcType=VARCHAR}, #{birthTime,jdbcType=TIMESTAMP}, #{deviceNumber,jdbcType=VARCHAR},
                #{uniqueNum,jdbcType=VARCHAR}, #{roleShopId,jdbcType=BIGINT}, #{roleRange,jdbcType=INTEGER},
                #{lineStatus,jdbcType=INTEGER}, #{consultingFee,jdbcType=DECIMAL}, #{commentTotal,jdbcType=INTEGER},
                #{likeTotal,jdbcType=INTEGER}, #{luckyDrawNum,jdbcType=INTEGER},
                #{alipayNum,jdbcType=VARCHAR}, #{wxTel,jdbcType=VARCHAR}, #{wxAccount,jdbcType=VARCHAR},
                #{aliName,jdbcType=VARCHAR}, #{aliAccount,jdbcType=VARCHAR}, #{sealExpirationTime,jdbcType=TIMESTAMP},
                #{robOrderLimit,jdbcType=INTEGER}, #{withdrawalLimit,jdbcType=DECIMAL},
                #{finishAuction,jdbcType=INTEGER},
                #{comeUpNum,jdbcType=INTEGER}, #{vipType,jdbcType=INTEGER}, #{tagId,jdbcType=BIGINT},
                #{subordinateLevel,jdbcType=INTEGER}, #{subordinateNum,jdbcType=BIGINT}, #{sealNum,jdbcType=INTEGER},
                #{diamondOrderLimit,jdbcType=INTEGER}, #{commonName,jdbcType=VARCHAR}, #{commonTel,jdbcType=VARCHAR},
                #{memo,jdbcType=VARCHAR}, #{userType,jdbcType=INTEGER})
    </insert>
    <update id="updateByPrimaryKey" parameterType="com.zj.auction.common.model.User">
        update zj_user
        set role_id              = #{roleId,jdbcType=INTEGER},
            user_name            = #{userName,jdbcType=VARCHAR},
            pass_word            = #{passWord,jdbcType=VARCHAR},
            real_name            = #{realName,jdbcType=VARCHAR},
            salt                 = #{salt,jdbcType=VARCHAR},
            sex                  = #{sex,jdbcType=INTEGER},
            status               = #{status,jdbcType=INTEGER},
            audit                = #{audit,jdbcType=INTEGER},
            audit_explain        = #{auditExplain,jdbcType=VARCHAR},
            pid                  = #{pid,jdbcType=BIGINT},
            p_user_name          = #{pUserName,jdbcType=VARCHAR},
            pid_str              = #{pidStr,jdbcType=VARCHAR},
            level_num            = #{levelNum,jdbcType=INTEGER},
            tel                  = #{tel,jdbcType=VARCHAR},
            email                = #{email,jdbcType=VARCHAR},
            login_ip             = #{loginIp,jdbcType=VARCHAR},
            login_time           = #{loginTime,jdbcType=TIMESTAMP},
            current_user_type    = #{currentUserType,jdbcType=INTEGER},
            pay_password         = #{payPassword,jdbcType=VARCHAR},
            department_id        = #{departmentId,jdbcType=INTEGER},
            add_time             = #{addTime,jdbcType=TIMESTAMP},
            add_user_id          = #{addUserId,jdbcType=BIGINT},
            update_time          = #{updateTime,jdbcType=TIMESTAMP},
            update_user_id       = #{updateUserId,jdbcType=BIGINT},
            frozen_explain       = #{frozenExplain,jdbcType=VARCHAR},
            delete_flag          = #{deleteFlag,jdbcType=INTEGER},
            nick_name            = #{nickName,jdbcType=VARCHAR},
            share_img            = #{shareImg,jdbcType=VARCHAR},
            user_img             = #{userImg,jdbcType=VARCHAR},
            background_img       = #{backgroundImg,jdbcType=VARCHAR},
            is_first_login       = #{isFirstLogin,jdbcType=INTEGER},
            share_type           = #{shareType,jdbcType=INTEGER},
            shop_id              = #{shopId,jdbcType=BIGINT},
            wx_union_id          = #{wxUnionId,jdbcType=VARCHAR},
            last_login_time      = #{lastLoginTime,jdbcType=TIMESTAMP},
            transaction_id       = #{transactionId,jdbcType=VARCHAR},
            birth_time           = #{birthTime,jdbcType=TIMESTAMP},
            device_number        = #{deviceNumber,jdbcType=VARCHAR},
            unique_num           = #{uniqueNum,jdbcType=VARCHAR},
            role_shop_id         = #{roleShopId,jdbcType=BIGINT},
            role_range           = #{roleRange,jdbcType=INTEGER},
            line_status          = #{lineStatus,jdbcType=INTEGER},
            consulting_fee       = #{consultingFee,jdbcType=DECIMAL},
            comment_total        = #{commentTotal,jdbcType=INTEGER},
            like_total           = #{likeTotal,jdbcType=INTEGER},
            lucky_draw_num       = #{luckyDrawNum,jdbcType=INTEGER},
            alipay_num           = #{alipayNum,jdbcType=VARCHAR},
            wx_tel               = #{wxTel,jdbcType=VARCHAR},
            wx_account           = #{wxAccount,jdbcType=VARCHAR},
            ali_name             = #{aliName,jdbcType=VARCHAR},
            ali_account          = #{aliAccount,jdbcType=VARCHAR},
            seal_expiration_time = #{sealExpirationTime,jdbcType=TIMESTAMP},
            rob_order_limit      = #{robOrderLimit,jdbcType=INTEGER},
            withdrawal_limit     = #{withdrawalLimit,jdbcType=DECIMAL},
            finish_auction       = #{finishAuction,jdbcType=INTEGER},
            come_up_num          = #{comeUpNum,jdbcType=INTEGER},
            vip_type             = #{vipType,jdbcType=INTEGER},
            tag_id               = #{tagId,jdbcType=BIGINT},
            subordinate_level    = #{subordinateLevel,jdbcType=INTEGER},
            subordinate_num      = #{subordinateNum,jdbcType=BIGINT},
            seal_num             = #{sealNum,jdbcType=INTEGER},
            diamond_order_limit  = #{diamondOrderLimit,jdbcType=INTEGER},
            common_name          = #{commonName,jdbcType=VARCHAR},
            common_tel           = #{commonTel,jdbcType=VARCHAR},
            memo                 = #{memo,jdbcType=VARCHAR},
            user_type            = #{userType,jdbcType=INTEGER}
        where user_id = #{userId,jdbcType=BIGINT}
    </update>
    <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultType="com.zj.auction.common.model.User">
        select *
        from zj_user
        where user_id = #{userId,jdbcType=BIGINT}
          and delete_flag = 0
    </select>
    <select id="selectAll" resultMap="BaseResultMap">
        select *
        from zj_user
    </select>
    <select id="countByName" resultType="integer">
        select count(*)
        from zj_user
        where user_name = #{userName}
          and user_type = 1
    </select>

    <select id="getStatistics" resultType="map">
        SELECT COUNT(*)                                                     AS stock,
               ifnull(sum(CASE WHEN pid = #{userId} THEN 1 ELSE 0 END), 0)  AS num1,
               ifnull(sum(CASE WHEN pid != #{userId} THEN 1 ELSE 0 END), 0) AS num2
        FROM zj_user
        WHERE pid_str LIKE CONCAT(
                #{ids}
            )
    </select>
    <select id="listMemberIndirect" resultType="map">
        SELECT
        a.*,
        b.role_name
        FROM
        (
        SELECT
        *
        FROM
        zj_user

        <where>
            pid_str LIKE CONCAT( '%',#{dto.userIds}, '%' )
            <if test="dto.userId!=null">
                and user_id like CONCAT('%',#{dto.userId},'%')
            </if>
            <if test="dto.userName!=null">
                and user_name like CONCAT('%',#{dto.userName},'%')
            </if>
            <if test="dto.realName!=null">
                and real_name like CONCAT('%',#{dto.realName},'%')
            </if>
            <if test="dto.nickName!=null">
                and nick_name like CONCAT('%',#{dto.nickName},'%')
            </if>
            <if test="dto.tel!=null">
                and tel like CONCAT('%',#{dto.tel},'%')
            </if>
            <if test="dto.startDate!=null and dto.endDate!=null">
                and add_time BETWEEN #{dto.startDate} AND #{dto.endDate}
            </if>
            <if test="dto.userType!=null">
                and userType =0
            </if>
            AND delete_flag = 0
        </where>

        ORDER BY
        add_time DESC
        ) a
        LEFT JOIN zj_role b ON a.user_type = b.role_id
    </select>

    <update id="updateAuditRejection" parameterType="com.zj.auction.common.model.User">
        UPDATE zj_user
        SET audit         = 3,
            audit_explain = #{auditExplain}
        WHERE user_id = #{userId}
    </update>

    <update id="updateAuditApproval" parameterType="com.zj.auction.common.model.User">
        update zj_user
        set audit        = 2,
            audit_explain=null
        where user_id = #{userId}
    </update>

    <update id="updUserChildByPidStr" parameterType="com.zj.auction.common.model.User">
        UPDATE zj_user
        SET tag_id         = #{tagId},
            update_user_id = #{userId}
        WHERE delete_flag = 0
          AND pid_str LIKE concat(
                '%,', #{pcUserId}, ',%')
    </update>
    <!--APP用户-->
    <select id="customerAllPage" resultType="int">
        select count(*)
        from zj_user
        where pid = #{userId}
          and delete_flag = 0
    </select>
    <select id="findByUserName" resultType="com.zj.auction.common.model.User">
        select *
        from zj_user
        where user_name = #{userName}
          and delete_flag = 0
          and user_type = 0
    </select>
    <select id="findByTel" resultType="com.zj.auction.common.model.User">
        select *
        from zj_user
        where tel = #{tel}
          and delete_flag = 0
    </select>
    <select id="findFirstAndSecondByUserId" resultType="com.zj.auction.common.model.User">
        SELECT *
        FROM zj_user
        where delete_flag = 0
          and pid_str like concat('%,', #{userId}, ',%')
          and level_num in (#{levelNum1}, #{levelNum2})
    </select>
    <select id="countUserChildByUserId" resultType="long">
        SELECT count(*)
        FROM zj_user
        where delete_flag = 0
          and pid_str like concat('%,', #{userId}, ',%')
    </select>

    <insert id="insertSelective" parameterType="com.zj.auction.common.model.User">
        insert into zj_user
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="userId != null">
                user_id,
            </if>
            <if test="roleId != null">
                role_id,
            </if>
            <if test="userName != null">
                user_name,
            </if>
            <if test="passWord != null">
                pass_word,
            </if>
            <if test="realName != null">
                real_name,
            </if>
            <if test="salt != null">
                salt,
            </if>
            <if test="sex != null">
                sex,
            </if>
            <if test="status != null">
                status,
            </if>
            <if test="audit != null">
                audit,
            </if>
            <if test="auditExplain != null">
                audit_explain,
            </if>
            <if test="pid != null">
                pid,
            </if>
            <if test="pUserName != null">
                p_user_name,
            </if>
            <if test="pidStr != null">
                pid_str,
            </if>
            <if test="levelNum != null">
                level_num,
            </if>
            <if test="tel != null">
                tel,
            </if>
            <if test="email != null">
                email,
            </if>
            <if test="loginIp != null">
                login_ip,
            </if>
            <if test="loginTime != null">
                login_time,
            </if>
            <if test="currentUserType != null">
                current_user_type,
            </if>
            <if test="payPassword != null">
                pay_password,
            </if>
            <if test="departmentId != null">
                department_id,
            </if>
            <if test="addTime != null">
                add_time,
            </if>
            <if test="addUserId != null">
                add_user_id,
            </if>
            <if test="updateTime != null">
                update_time,
            </if>
            <if test="updateUserId != null">
                update_user_id,
            </if>
            <if test="frozenExplain != null">
                frozen_explain,
            </if>
            <if test="deleteFlag != null">
                delete_flag,
            </if>
            <if test="nickName != null">
                nick_name,
            </if>
            <if test="shareImg != null">
                share_img,
            </if>
            <if test="userImg != null">
                user_img,
            </if>
            <if test="backgroundImg != null">
                background_img,
            </if>
            <if test="isFirstLogin != null">
                is_first_login,
            </if>
            <if test="shareType != null">
                share_type,
            </if>
            <if test="shopId != null">
                shop_id,
            </if>
            <if test="wxUnionId != null">
                wx_union_id,
            </if>
            <if test="lastLoginTime != null">
                last_login_time,
            </if>
            <if test="transactionId != null">
                transaction_id,
            </if>
            <if test="birthTime != null">
                birth_time,
            </if>
            <if test="deviceNumber != null">
                device_number,
            </if>
            <if test="uniqueNum != null">
                unique_num,
            </if>
            <if test="roleShopId != null">
                role_shop_id,
            </if>
            <if test="roleRange != null">
                role_range,
            </if>
            <if test="lineStatus != null">
                line_status,
            </if>
            <if test="consultingFee != null">
                consulting_fee,
            </if>
            <if test="commentTotal != null">
                comment_total,
            </if>
            <if test="likeTotal != null">
                like_total,
            </if>
            <if test="luckyDrawNum != null">
                lucky_draw_num,
            </if>
            <if test="alipayNum != null">
                alipay_num,
            </if>
            <if test="wxTel != null">
                wx_tel,
            </if>
            <if test="wxAccount != null">
                wx_account,
            </if>
            <if test="aliName != null">
                ali_name,
            </if>
            <if test="aliAccount != null">
                ali_account,
            </if>
            <if test="sealExpirationTime != null">
                seal_expiration_time,
            </if>
            <if test="robOrderLimit != null">
                rob_order_limit,
            </if>
            <if test="withdrawalLimit != null">
                withdrawal_limit,
            </if>
            <if test="finishAuction != null">
                finish_auction,
            </if>
            <if test="comeUpNum != null">
                come_up_num,
            </if>
            <if test="vipType != null">
                vip_type,
            </if>
            <if test="tagId != null">
                tag_id,
            </if>
            <if test="subordinateLevel != null">
                subordinate_level,
            </if>
            <if test="subordinateNum != null">
                subordinate_num,
            </if>
            <if test="sealNum != null">
                seal_num,
            </if>
            <if test="diamondOrderLimit != null">
                diamond_order_limit,
            </if>
            <if test="commonName != null">
                common_name,
            </if>
            <if test="commonTel != null">
                common_tel,
            </if>
            <if test="memo != null">
                memo,
            </if>
            <if test="userType != null">
                user_type,
            </if>
            <if test="cardNumber != null">
                card_number,
            </if>
            <if test="memo1 != null">
                memo1,
            </if>
            <if test="memo2 != null">
                memo2,
            </if>
            <if test="memo3 != null">
                memo3,
            </if>
            <if test="subUserNum != null">
                sub_user_num,
            </if>
            <if test="subUserNumAll != null">
                sub_user_num_all,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="userId != null">
                #{userId,jdbcType=BIGINT},
            </if>
            <if test="roleId != null">
                #{roleId,jdbcType=INTEGER},
            </if>
            <if test="userName != null">
                #{userName,jdbcType=VARCHAR},
            </if>
            <if test="passWord != null">
                #{passWord,jdbcType=VARCHAR},
            </if>
            <if test="realName != null">
                #{realName,jdbcType=VARCHAR},
            </if>
            <if test="salt != null">
                #{salt,jdbcType=VARCHAR},
            </if>
            <if test="sex != null">
                #{sex,jdbcType=INTEGER},
            </if>
            <if test="status != null">
                #{status,jdbcType=INTEGER},
            </if>
            <if test="audit != null">
                #{audit,jdbcType=INTEGER},
            </if>
            <if test="auditExplain != null">
                #{auditExplain,jdbcType=VARCHAR},
            </if>
            <if test="pid != null">
                #{pid,jdbcType=BIGINT},
            </if>
            <if test="pUserName != null">
                #{pUserName,jdbcType=VARCHAR},
            </if>
            <if test="pidStr != null">
                #{pidStr,jdbcType=VARCHAR},
            </if>
            <if test="levelNum != null">
                #{levelNum,jdbcType=INTEGER},
            </if>
            <if test="tel != null">
                #{tel,jdbcType=VARCHAR},
            </if>
            <if test="email != null">
                #{email,jdbcType=VARCHAR},
            </if>
            <if test="loginIp != null">
                #{loginIp,jdbcType=VARCHAR},
            </if>
            <if test="loginTime != null">
                #{loginTime,jdbcType=TIMESTAMP},
            </if>
            <if test="currentUserType != null">
                #{currentUserType,jdbcType=INTEGER},
            </if>
            <if test="payPassword != null">
                #{payPassword,jdbcType=VARCHAR},
            </if>
            <if test="departmentId != null">
                #{departmentId,jdbcType=INTEGER},
            </if>
            <if test="addTime != null">
                #{addTime,jdbcType=TIMESTAMP},
            </if>
            <if test="addUserId != null">
                #{addUserId,jdbcType=BIGINT},
            </if>
            <if test="updateTime != null">
                #{updateTime,jdbcType=TIMESTAMP},
            </if>
            <if test="updateUserId != null">
                #{updateUserId,jdbcType=BIGINT},
            </if>
            <if test="frozenExplain != null">
                #{frozenExplain,jdbcType=VARCHAR},
            </if>
            <if test="deleteFlag != null">
                #{deleteFlag,jdbcType=INTEGER},
            </if>
            <if test="nickName != null">
                #{nickName,jdbcType=VARCHAR},
            </if>
            <if test="shareImg != null">
                #{shareImg,jdbcType=VARCHAR},
            </if>
            <if test="userImg != null">
                #{userImg,jdbcType=VARCHAR},
            </if>
            <if test="backgroundImg != null">
                #{backgroundImg,jdbcType=VARCHAR},
            </if>
            <if test="isFirstLogin != null">
                #{isFirstLogin,jdbcType=INTEGER},
            </if>
            <if test="shareType != null">
                #{shareType,jdbcType=INTEGER},
            </if>
            <if test="shopId != null">
                #{shopId,jdbcType=BIGINT},
            </if>
            <if test="wxUnionId != null">
                #{wxUnionId,jdbcType=VARCHAR},
            </if>
            <if test="lastLoginTime != null">
                #{lastLoginTime,jdbcType=TIMESTAMP},
            </if>
            <if test="transactionId != null">
                #{transactionId,jdbcType=VARCHAR},
            </if>
            <if test="birthTime != null">
                #{birthTime,jdbcType=TIMESTAMP},
            </if>
            <if test="deviceNumber != null">
                #{deviceNumber,jdbcType=VARCHAR},
            </if>
            <if test="uniqueNum != null">
                #{uniqueNum,jdbcType=VARCHAR},
            </if>
            <if test="roleShopId != null">
                #{roleShopId,jdbcType=BIGINT},
            </if>
            <if test="roleRange != null">
                #{roleRange,jdbcType=INTEGER},
            </if>
            <if test="lineStatus != null">
                #{lineStatus,jdbcType=INTEGER},
            </if>
            <if test="consultingFee != null">
                #{consultingFee,jdbcType=DECIMAL},
            </if>
            <if test="commentTotal != null">
                #{commentTotal,jdbcType=INTEGER},
            </if>
            <if test="likeTotal != null">
                #{likeTotal,jdbcType=INTEGER},
            </if>
            <if test="luckyDrawNum != null">
                #{luckyDrawNum,jdbcType=INTEGER},
            </if>
            <if test="alipayNum != null">
                #{alipayNum,jdbcType=VARCHAR},
            </if>
            <if test="wxTel != null">
                #{wxTel,jdbcType=VARCHAR},
            </if>
            <if test="wxAccount != null">
                #{wxAccount,jdbcType=VARCHAR},
            </if>
            <if test="aliName != null">
                #{aliName,jdbcType=VARCHAR},
            </if>
            <if test="aliAccount != null">
                #{aliAccount,jdbcType=VARCHAR},
            </if>
            <if test="sealExpirationTime != null">
                #{sealExpirationTime,jdbcType=TIMESTAMP},
            </if>
            <if test="robOrderLimit != null">
                #{robOrderLimit,jdbcType=INTEGER},
            </if>
            <if test="withdrawalLimit != null">
                #{withdrawalLimit,jdbcType=DECIMAL},
            </if>
            <if test="finishAuction != null">
                #{finishAuction,jdbcType=INTEGER},
            </if>
            <if test="comeUpNum != null">
                #{comeUpNum,jdbcType=INTEGER},
            </if>
            <if test="vipType != null">
                #{vipType,jdbcType=INTEGER},
            </if>
            <if test="tagId != null">
                #{tagId,jdbcType=BIGINT},
            </if>
            <if test="subordinateLevel != null">
                #{subordinateLevel,jdbcType=INTEGER},
            </if>
            <if test="subordinateNum != null">
                #{subordinateNum,jdbcType=BIGINT},
            </if>
            <if test="sealNum != null">
                #{sealNum,jdbcType=INTEGER},
            </if>
            <if test="diamondOrderLimit != null">
                #{diamondOrderLimit,jdbcType=INTEGER},
            </if>
            <if test="commonName != null">
                #{commonName,jdbcType=VARCHAR},
            </if>
            <if test="commonTel != null">
                #{commonTel,jdbcType=VARCHAR},
            </if>
            <if test="memo != null">
                #{memo,jdbcType=VARCHAR},
            </if>
            <if test="userType != null">
                #{userType,jdbcType=INTEGER},
            </if>
            <if test="cardNumber != null">
                #{cardNumber,jdbcType=VARCHAR},
            </if>
            <if test="memo1 != null">
                #{memo1,jdbcType=VARCHAR},
            </if>
            <if test="memo2 != null">
                #{memo2,jdbcType=VARCHAR},
            </if>
            <if test="memo3 != null">
                #{memo3,jdbcType=VARCHAR},
            </if>
            <if test="subUserNum != null">
                #{subUserNum,jdbcType=INTEGER},
            </if>
            <if test="subUserNumAll != null">
                #{subUserNumAll,jdbcType=INTEGER},
            </if>
        </trim>
    </insert>

    <update id="updateByPrimaryKeySelective" parameterType="com.zj.auction.common.model.User">
        update zj_user
        <set>
            <if test="roleId != null">
                role_id = #{roleId,jdbcType=INTEGER},
            </if>
            <if test="userName != null">
                user_name = #{userName,jdbcType=VARCHAR},
            </if>
            <if test="passWord != null">
                pass_word = #{passWord,jdbcType=VARCHAR},
            </if>
            <if test="realName != null">
                real_name = #{realName,jdbcType=VARCHAR},
            </if>
            <if test="salt != null">
                salt = #{salt,jdbcType=VARCHAR},
            </if>
            <if test="sex != null">
                sex = #{sex,jdbcType=INTEGER},
            </if>
            <if test="status != null">
                status = #{status,jdbcType=INTEGER},
            </if>
            <if test="audit != null">
                audit = #{audit,jdbcType=INTEGER},
            </if>
            <if test="auditExplain != null">
                audit_explain = #{auditExplain,jdbcType=VARCHAR},
            </if>
            <if test="pid != null">
                pid = #{pid,jdbcType=BIGINT},
            </if>
            <if test="pUserName != null">
                p_user_name = #{pUserName,jdbcType=VARCHAR},
            </if>
            <if test="pidStr != null">
                pid_str = #{pidStr,jdbcType=VARCHAR},
            </if>
            <if test="levelNum != null">
                level_num = #{levelNum,jdbcType=INTEGER},
            </if>
            <if test="tel != null">
                tel = #{tel,jdbcType=VARCHAR},
            </if>
            <if test="email != null">
                email = #{email,jdbcType=VARCHAR},
            </if>
            <if test="loginIp != null">
                login_ip = #{loginIp,jdbcType=VARCHAR},
            </if>
            <if test="loginTime != null">
                login_time = #{loginTime,jdbcType=TIMESTAMP},
            </if>
            <if test="currentUserType != null">
                current_user_type = #{currentUserType,jdbcType=INTEGER},
            </if>
            <if test="payPassword != null">
                pay_password = #{payPassword,jdbcType=VARCHAR},
            </if>
            <if test="departmentId != null">
                department_id = #{departmentId,jdbcType=INTEGER},
            </if>
            <if test="addTime != null">
                add_time = #{addTime,jdbcType=TIMESTAMP},
            </if>
            <if test="addUserId != null">
                add_user_id = #{addUserId,jdbcType=BIGINT},
            </if>
            <if test="updateTime != null">
                update_time = #{updateTime,jdbcType=TIMESTAMP},
            </if>
            <if test="updateUserId != null">
                update_user_id = #{updateUserId,jdbcType=BIGINT},
            </if>
            <if test="frozenExplain != null">
                frozen_explain = #{frozenExplain,jdbcType=VARCHAR},
            </if>
            <if test="deleteFlag != null">
                delete_flag = #{deleteFlag,jdbcType=INTEGER},
            </if>
            <if test="nickName != null">
                nick_name = #{nickName,jdbcType=VARCHAR},
            </if>
            <if test="shareImg != null">
                share_img = #{shareImg,jdbcType=VARCHAR},
            </if>
            <if test="userImg != null">
                user_img = #{userImg,jdbcType=VARCHAR},
            </if>
            <if test="backgroundImg != null">
                background_img = #{backgroundImg,jdbcType=VARCHAR},
            </if>
            <if test="isFirstLogin != null">
                is_first_login = #{isFirstLogin,jdbcType=INTEGER},
            </if>
            <if test="shareType != null">
                share_type = #{shareType,jdbcType=INTEGER},
            </if>
            <if test="shopId != null">
                shop_id = #{shopId,jdbcType=BIGINT},
            </if>
            <if test="wxUnionId != null">
                wx_union_id = #{wxUnionId,jdbcType=VARCHAR},
            </if>
            <if test="lastLoginTime != null">
                last_login_time = #{lastLoginTime,jdbcType=TIMESTAMP},
            </if>
            <if test="transactionId != null">
                transaction_id = #{transactionId,jdbcType=VARCHAR},
            </if>
            <if test="birthTime != null">
                birth_time = #{birthTime,jdbcType=TIMESTAMP},
            </if>
            <if test="deviceNumber != null">
                device_number = #{deviceNumber,jdbcType=VARCHAR},
            </if>
            <if test="uniqueNum != null">
                unique_num = #{uniqueNum,jdbcType=VARCHAR},
            </if>
            <if test="roleShopId != null">
                role_shop_id = #{roleShopId,jdbcType=BIGINT},
            </if>
            <if test="roleRange != null">
                role_range = #{roleRange,jdbcType=INTEGER},
            </if>
            <if test="lineStatus != null">
                line_status = #{lineStatus,jdbcType=INTEGER},
            </if>
            <if test="consultingFee != null">
                consulting_fee = #{consultingFee,jdbcType=DECIMAL},
            </if>
            <if test="commentTotal != null">
                comment_total = #{commentTotal,jdbcType=INTEGER},
            </if>
            <if test="likeTotal != null">
                like_total = #{likeTotal,jdbcType=INTEGER},
            </if>
            <if test="luckyDrawNum != null">
                lucky_draw_num = #{luckyDrawNum,jdbcType=INTEGER},
            </if>
            <if test="alipayNum != null">
                alipay_num = #{alipayNum,jdbcType=VARCHAR},
            </if>
            <if test="wxTel != null">
                wx_tel = #{wxTel,jdbcType=VARCHAR},
            </if>
            <if test="wxAccount != null">
                wx_account = #{wxAccount,jdbcType=VARCHAR},
            </if>
            <if test="aliName != null">
                ali_name = #{aliName,jdbcType=VARCHAR},
            </if>
            <if test="aliAccount != null">
                ali_account = #{aliAccount,jdbcType=VARCHAR},
            </if>
            <if test="sealExpirationTime != null">
                seal_expiration_time = #{sealExpirationTime,jdbcType=TIMESTAMP},
            </if>
            <if test="robOrderLimit != null">
                rob_order_limit = #{robOrderLimit,jdbcType=INTEGER},
            </if>
            <if test="withdrawalLimit != null">
                withdrawal_limit = #{withdrawalLimit,jdbcType=DECIMAL},
            </if>
            <if test="finishAuction != null">
                finish_auction = #{finishAuction,jdbcType=INTEGER},
            </if>
            <if test="comeUpNum != null">
                come_up_num = #{comeUpNum,jdbcType=INTEGER},
            </if>
            <if test="vipType != null">
                vip_type = #{vipType,jdbcType=INTEGER},
            </if>
            <if test="tagId != null">
                tag_id = #{tagId,jdbcType=BIGINT},
            </if>
            <if test="subordinateLevel != null">
                subordinate_level = #{subordinateLevel,jdbcType=INTEGER},
            </if>
            <if test="subordinateNum != null">
                subordinate_num = #{subordinateNum,jdbcType=BIGINT},
            </if>
            <if test="sealNum != null">
                seal_num = #{sealNum,jdbcType=INTEGER},
            </if>
            <if test="diamondOrderLimit != null">
                diamond_order_limit = #{diamondOrderLimit,jdbcType=INTEGER},
            </if>
            <if test="commonName != null">
                common_name = #{commonName,jdbcType=VARCHAR},
            </if>
            <if test="commonTel != null">
                common_tel = #{commonTel,jdbcType=VARCHAR},
            </if>
            <if test="memo != null">
                memo = #{memo,jdbcType=VARCHAR},
            </if>
            <if test="userType != null">
                user_type = #{userType,jdbcType=INTEGER},
            </if>
            <if test="cardNumber != null">
                card_number = #{cardNumber,jdbcType=VARCHAR},
            </if>
            <if test="memo1 != null">
                memo1 = #{memo1,jdbcType=VARCHAR},
            </if>
            <if test="memo2 != null">
                memo2 = #{memo2,jdbcType=VARCHAR},
            </if>
            <if test="memo3 != null">
                memo3 = #{memo3,jdbcType=VARCHAR},
            </if>
            <if test="subUserNum != null">
                sub_user_num = #{subUserNum,jdbcType=INTEGER},
            </if>
            <if test="subUserNumAll != null">
                sub_user_num_all = #{subUserNumAll,jdbcType=INTEGER},
            </if>
        </set>
        where user_id = #{userId,jdbcType=BIGINT}
    </update>

</mapper>